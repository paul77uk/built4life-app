## Creating Navbar

We already have a `components` folder, I think it was created when we installed shadcn ui.
In the there we add a `navigation` folder.
And in there we add a `nav.tsx` file.

In Nextjs our frontend can run on the server, this will be a server component, when we need interactivity, then we may need to make them a client component and then need to add `'use client'` at the top. But we try to make server components as much as possible.

In our `nav.tsx` file we add the import:

```bash
import { auth } from "@/server/auth"
```

A vscode extension I like to use is: `ES7+ React/Redux/React-Native snippets`, some other useful ones are `Tailwind CSS IntelliSense` and `prettier`

I often use the `rafce` to create a component with export default, or `rafc` if I just want the export and not default.

It's a little quicker and habit I now have, you then only have to change the name of your component, I use the `rafce` in this case.

So then we just change the highlighted name to `Nav`
So our `nav.tsx` file should look like this:

```bash
import { auth } from "@/server/auth";

const Nav = () => {
  return <div>Nav</div>;
};

export default Nav;
```

next we can go to our `page.tsx` file in our app folder, and delete verything between <main></main> and also the className on <main>
We can slo delete the image import so our `page.tsx` file looks like this:

```bash
export default function Home() {
  return <main></main>;
}
```

We can put the text `Home` between the <main> for now.

Then we go to our `layout.tsx` file in our `app` folder.
And in <body> above the `{children}` add:

```bash
<Nav />
```

You will need to import it form our `components/navigation/nav`
It may give you this option as you type out <Nav /> or you can press `control and .` after clicking on the <Nav /> text to auto import from options, or otherwise go to the top and import in manually.
You layout file should look like this:

```bash
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import "./globals.css";
import Nav from "@/components/navigation/nav";

const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body className={inter.className}>
        <Nav />
        {children}
      </body>
    </html>
  );
}
```

And if you nw go to http://localhost:3000/ you should see your Nav text from the `nav.tsx` file, and the Home text from the `page.tsx` file.

Back in our `nav.tsx` we add:

```bash
const session = await auth()
```

under the `const Nav = () => {` and an async before the `()`
Our `nav.tsx` should now be:

```bash
import { auth } from "@/server/auth";

const Nav = async () => {
  const session = await auth()

  return <div>Nav</div>;
};

export default Nav;
```

There's not really a nav component in shadcn, so I go to Flowbite and find a decent navbar and paste that in instead of my `Nav` text, and then I will make alterations.
https://flowbite.com/docs/components/navbar/
I go to the 4th one down, `Sticky navbar` and copy the code.
You can get rid of the origian div too, and just return the nav.
Make sure it's on the same line as the return.
We then need to change all the class to className, as React uses className instead.
So highlight the top class text, and press ctrl and f2, it will highlight every class on the page, and then you can change them all to className at once.
If you're on a mac you may need to google to find a similar short cut, I'm on windows.
You then just need to delete the img tag and it's content.

If you go back to http://localhost:3000/ you should see a decent looking text. But we will probably change most of it, but it gives us a start. And something you could use again in other projects to give you a quick start at a navbar.

We can find the Flowbite text and change that to Built4Life.
I wrap the 4 in a span, and give it a `className="text-red-700"`

In our navigation folder, we create a `user-button.tsx` file.
We put `'use client'` at the top, then use rafc and name it UserButton.

Find the button that contains the text `Get started`, delete it, and replace it with <UserButton /> making sure to import it.

we can adda user prop to the UserButton to recieve the user who's logged in.
Our `user-button.tsx` not looks like this:

```bash
"use client";

import { Session } from "next-auth";

export const UserButton = ({ user }: Session) => {
  return <div>{user?.email}</div>;
};
```

And in our `nav.tsx` we pass the user down and we also have to pass the expires:

```bash
<UserButton user={session?.user} expires={session?.expires || ""} />
```

You should then see your email address in the navbar.

We will also add a button under our email address to sign out.
So our `user-button.tsx` looks like this:

```bash
"use client";

import { Session } from "next-auth";
import { signOut } from "next-auth/react";

export const UserButton = ({ user }: Session) => {
  return (
    <div>
      <div>{user?.email}</div>
      <button onClick={() => signOut()}>signOut</button>
    </div>
  );
};

```

If you click on the signout, it will sign you out and you can sign back in by going to http://localhost:3000/api/auth/signin
